import{u as V,j as e}from"./index-a4776ee8.js";import{r as c}from"./vendor-e182443c.js";import{X as q,a as N,q as Q,A as R,e as D,l as $,m as X,v as Y,P as M,k as A,t as T,u as B}from"./ui-9fedfdd7.js";const F=({careerItem:a,type:x,onClose:f,onUpdate:y})=>{const{updateCareerProgress:o}=V(),[m,v]=c.useState("notes"),[t,n]=c.useState({...a,milestones:a.milestones||[],notes:a.notes||[],history:a.history||[]}),[h,b]=c.useState(""),[g,w]=c.useState(""),[E,p]=c.useState(!1),[I,u]=c.useState(!1);c.useEffect(()=>{n({...a,milestones:a.milestones||[],notes:a.notes||[],history:a.history||[]})},[a]);const O=s=>{const r={...t,progress:s};n(r),p(!0);const i={id:Date.now(),type:"progress",action:`Progress updated to ${s}%`,timestamp:new Date().toISOString(),oldValue:t.progress,newValue:s};r.history=[i,...r.history],n(r),o&&o(a.id,s,x)},H=()=>{const r=t.progress===100?90:100;O(r)},C=()=>{if(h.trim()){const s={id:Date.now(),text:h.trim(),completed:!1,createdAt:new Date().toISOString()},r={...t,milestones:[...t.milestones,s]};n(r),b(""),p(!0);const i={id:Date.now(),type:"milestone",action:`Added milestone: "${s.text}"`,timestamp:new Date().toISOString()};r.history=[i,...r.history],n(r)}},L=s=>{const r=t.milestones.map(l=>l.id===s?{...l,completed:!l.completed}:l),i=t.milestones.find(l=>l.id===s),d={...t,milestones:r};n(d),p(!0);const j={id:Date.now(),type:"milestone",action:`${i.completed?"Uncompleted":"Completed"} milestone: "${i.text}"`,timestamp:new Date().toISOString()};d.history=[j,...d.history],n(d)},P=s=>{const r=t.milestones.find(l=>l.id===s),i=t.milestones.filter(l=>l.id!==s),d={...t,milestones:i};n(d),p(!0);const j={id:Date.now(),type:"milestone",action:`Deleted milestone: "${r.text}"`,timestamp:new Date().toISOString()};d.history=[j,...d.history],n(d)},k=()=>{if(g.trim()){const s={id:Date.now(),text:g.trim(),timestamp:new Date().toISOString()},r={...t,notes:[s,...t.notes]};n(r),w(""),p(!0);const i={id:Date.now(),type:"note",action:"Added new note",timestamp:new Date().toISOString()};r.history=[i,...r.history],n(r)}},U=()=>{y(t,x),p(!1)},S=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),z="from-netsurit-red to-netsurit-coral",G=()=>x==="goal"?e.jsx(D,{className:"w-5 h-5"}):e.jsx(T,{className:"w-5 h-5"}),K=()=>x==="goal"?"Career Goal":"Development Plan";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-3 z-[1000]",children:e.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl border border-professional-gray-200 p-6 w-full max-w-5xl max-h-[90vh] overflow-y-auto space-y-6",children:[e.jsx("div",{className:"absolute top-6 right-6",children:e.jsx("button",{onClick:f,className:"p-2 text-professional-gray-400 hover:text-professional-gray-600 rounded-full hover:bg-professional-gray-100 transition-colors","aria-label":"Close",children:e.jsx(q,{className:"w-5 h-5"})})}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-netsurit-red to-netsurit-coral rounded-xl flex items-center justify-center text-white shadow-lg",children:G()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-professional-gray-900 leading-tight",children:t.title}),e.jsx("span",{className:"bg-netsurit-light-coral/20 text-netsurit-red text-xs px-3 py-1 rounded-full font-medium",children:K()})]}),t.description&&e.jsx("p",{className:"text-professional-gray-600 text-sm leading-relaxed mb-4",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-2xl font-bold text-professional-gray-900",children:[t.progress||0,"%"]}),e.jsx("div",{className:"flex-1 max-w-md bg-professional-gray-200 rounded-full h-3 shadow-inner",children:e.jsx("div",{className:`bg-gradient-to-r ${z} h-3 rounded-full transition-all duration-500 shadow-sm`,style:{width:`${t.progress||0}%`}})}),e.jsx("button",{onClick:H,className:"px-4 py-2 text-sm font-semibold rounded-xl border border-professional-gray-300 text-professional-gray-700 hover:bg-professional-gray-50 hover:border-professional-gray-400 transition-all duration-200",children:t.progress===100?"Completed âœ“":"Mark as Complete"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-professional-gray-200",children:[t.targetDate&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-professional-gray-600",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsxs("span",{children:["Target: ",new Date(t.targetDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:E&&e.jsxs("button",{onClick:U,className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-semibold rounded-xl bg-gradient-to-r from-netsurit-red to-netsurit-coral text-white hover:from-netsurit-coral hover:to-netsurit-orange transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(Q,{className:"w-4 h-4"}),"Save Changes"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[2fr,1fr] gap-6",children:[t.skills&&t.skills.length>0&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-professional-gray-50 border border-professional-gray-200 rounded-2xl shadow-sm p-6",children:[e.jsxs("h4",{className:"text-base font-semibold text-professional-gray-900 mb-4 flex items-center",children:[e.jsx(R,{className:"w-5 h-5 mr-2 text-netsurit-red"}),"Skills to Develop"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.skills.map((s,r)=>e.jsx("span",{className:"bg-netsurit-light-coral/20 text-netsurit-red text-sm px-3 py-2 rounded-xl font-medium border border-netsurit-light-coral/30",children:s},r))})]})}),e.jsx("div",{className:"lg:pl-1",children:e.jsxs("div",{className:"sticky top-4 bg-white rounded-2xl p-6 space-y-4 border border-professional-gray-200 shadow-lg",children:[e.jsxs("h3",{className:"text-base font-semibold text-professional-gray-900 flex items-center",children:[e.jsx(D,{className:"w-5 h-5 mr-2 text-netsurit-red"}),"Milestones"]}),e.jsx("div",{className:"space-y-3",children:t.milestones&&t.milestones.length>0?t.milestones.map(s=>e.jsxs("div",{className:"group flex items-start gap-3 p-3 rounded-xl hover:bg-professional-gray-50 transition-colors",children:[e.jsx("button",{onClick:()=>L(s.id),className:"mt-0.5",children:s.completed?e.jsx($,{className:"w-5 h-5 text-green-600"}):e.jsx(X,{className:"w-5 h-5 text-professional-gray-400 hover:text-netsurit-red transition-colors"})}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:`text-sm ${s.completed?"text-professional-gray-500 line-through":"text-professional-gray-900"}`,children:s.text})}),e.jsx("button",{onClick:()=>P(s.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1.5 text-red-400 hover:text-red-600 rounded-lg hover:bg-red-50",children:e.jsx(Y,{className:"w-4 h-4"})})]},s.id)):e.jsx("div",{className:"text-professional-gray-500 text-sm text-center py-4 italic",children:"No milestones yet."})}),I?e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:h,onChange:s=>b(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(C(),u(!1))},placeholder:"New milestone...",className:"w-full p-3 rounded-xl border border-professional-gray-300 text-sm focus:ring-2 focus:ring-netsurit-red focus:border-transparent"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{C(),u(!1)},disabled:!h.trim(),className:"px-4 py-2 text-sm bg-netsurit-red text-white rounded-xl disabled:opacity-50 hover:bg-netsurit-coral transition-colors font-medium",children:"Add"}),e.jsx("button",{onClick:()=>{u(!1),b("")},className:"px-4 py-2 text-sm border border-professional-gray-300 rounded-xl hover:bg-professional-gray-50 transition-colors font-medium",children:"Cancel"})]})]}):e.jsxs("button",{onClick:()=>u(!0),className:"inline-flex items-center gap-2 text-netsurit-red hover:text-netsurit-coral text-sm font-medium transition-colors",children:[e.jsx(M,{className:"w-4 h-4"}),"Add Milestone"]})]})}),e.jsxs("div",{className:"space-y-6 md:col-span-2 lg:col-span-2",children:[e.jsx("div",{className:"border-b border-professional-gray-200",children:e.jsxs("div",{role:"tablist",className:"flex gap-8",children:[e.jsx("button",{role:"tab","aria-selected":m==="notes",onClick:()=>v("notes"),className:`py-3 text-sm font-semibold transition-colors ${m==="notes"?"text-netsurit-red border-b-2 border-netsurit-red":"text-professional-gray-600 hover:text-professional-gray-900"}`,children:"Notes"}),e.jsx("button",{role:"tab","aria-selected":m==="history",onClick:()=>v("history"),className:`py-3 text-sm font-semibold transition-colors ${m==="history"?"text-netsurit-red border-b-2 border-netsurit-red":"text-professional-gray-600 hover:text-professional-gray-900"}`,children:"History"})]})}),e.jsx("div",{children:m==="notes"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"text",value:g,onChange:s=>w(s.target.value),onKeyDown:s=>{s.key==="Enter"&&k()},placeholder:"Quick add a note...",className:"flex-1 p-3 rounded-xl border border-professional-gray-300 text-sm focus:ring-2 focus:ring-netsurit-red focus:border-transparent"}),e.jsxs("button",{onClick:k,disabled:!g.trim(),className:"inline-flex items-center gap-2 px-6 py-3 text-sm bg-gradient-to-r from-netsurit-red to-netsurit-coral text-white rounded-xl disabled:opacity-50 hover:from-netsurit-coral hover:to-netsurit-orange transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(M,{className:"w-4 h-4"}),"Add"]})]}),e.jsx("div",{className:"space-y-4",children:t.notes&&t.notes.length>0?[...t.notes].map(s=>e.jsxs("div",{className:"bg-professional-gray-50 border border-professional-gray-200 rounded-2xl p-5 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-professional-gray-600 mb-3",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:S(s.timestamp)})]}),e.jsx("p",{className:"text-professional-gray-900 text-sm leading-relaxed whitespace-pre-wrap",children:s.text})]},s.id)):e.jsx("div",{className:"text-center py-8 text-professional-gray-500",children:e.jsx("p",{className:"text-sm italic",children:"No notes yet. Add your first note above!"})})})]}):e.jsx(J,{history:t.history,formatDate:S})})]})]})]})})},J=({history:a,formatDate:x})=>{const f=o=>{switch(o){case"progress":return e.jsx(T,{className:"w-5 h-5"});case"milestone":return e.jsx($,{className:"w-5 h-5"});case"note":return e.jsx(B,{className:"w-5 h-5"});default:return e.jsx(A,{className:"w-5 h-5"})}},y=o=>{switch(o){case"progress":return"text-netsurit-red bg-netsurit-light-coral/20 border-netsurit-light-coral/30";case"milestone":return"text-green-600 bg-green-100 border-green-200";case"note":return"text-purple-600 bg-purple-100 border-purple-200";default:return"text-professional-gray-600 bg-professional-gray-100 border-professional-gray-200"}};return e.jsx("div",{className:"space-y-6",children:a.length===0?e.jsxs("div",{className:"text-center py-12 text-professional-gray-500",children:[e.jsx(A,{className:"w-12 h-12 mx-auto mb-4 text-professional-gray-300"}),e.jsx("p",{className:"text-sm italic",children:"No history yet. Your progress updates will appear here!"})]}):e.jsxs("div",{className:"space-y-5 relative",children:[e.jsx("div",{className:"absolute left-6 top-6 bottom-0 w-0.5 bg-professional-gray-200"}),a.map((o,m)=>e.jsxs("div",{className:"flex items-start space-x-4 relative",children:[e.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-xl border-2 flex items-center justify-center shadow-sm ${y(o.type)} relative z-10`,children:f(o.type)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"bg-professional-gray-50 border border-professional-gray-200 rounded-2xl p-5 hover:shadow-md transition-shadow",children:[e.jsx("p",{className:"text-professional-gray-900 font-medium text-sm",children:o.action}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-professional-gray-600 mt-2",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:x(o.timestamp)})]})]})})]},o.id))]})})},ee=F;export{ee as C};
