import{p as K,g as y,u as de,j as e,c as ce}from"./index-a4776ee8.js";import{r as f,L as me}from"./vendor-e182443c.js";import{H as q}from"./HelpTooltip-4fed3476.js";import{a as O,e as z,t as xe,A as ue,k as he,j as pe,S as ge,P as fe,l as ye,m as je,R as V,u as we,v as be,w as Ne,g as ve,X as ke,q as We}from"./ui-9fedfdd7.js";import"./auth-c67ad916.js";const Ce=(a,t)=>a.flatMap(n=>n.recurring?t.map(o=>({...n,week:o})):n.week&&t.includes(n.week)?[n]:[]),X=(a,t)=>Ce(t,[a]).filter(n=>!n.hidden),I=(a,t)=>{const n=X(a,t),o=n.filter(g=>g.completed).length,c=n.length;return{completed:o,total:c}},Q=a=>{const{year:t,week:n}=K(a),{year:o,week:c}=K(y());return t>o||t===o&&n>=c},Ee=()=>{const{currentUser:a,weeklyGoals:t,addWeeklyGoal:n,updateWeeklyGoal:o,deleteWeeklyGoal:c,toggleWeeklyGoal:g,logWeeklyCompletion:u}=de(),[$,l]=f.useState(!1),[w,T]=f.useState(null),[b,A]=f.useState(null),[h,N]=f.useState({title:"",description:"",milestoneId:null,recurrence:"once",weekLog:void 0,durationType:"unlimited",durationWeeks:4}),[v,Z]=f.useState(new Date().getMonth()),[p,M]=f.useState(null),H=["A dream is a wish your heart makes. ðŸ’«","The future belongs to those who believe in their dreams. âœ¨","Dreams don't work unless you do. ðŸ’ª","Every small step counts towards your biggest dreams. ðŸš€","This week is your canvas - paint it beautiful! ðŸŽ¨","Progress, not perfection. You've got this! ðŸŒŸ","Dreams become reality one goal at a time. ðŸŽ¯"],[_]=f.useState(H[Math.floor(Math.random()*H.length)]);if(f.useEffect(()=>{const s=se();s&&M(s)},[]),!a)return e.jsx("div",{className:"max-w-6xl mx-auto flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-netsurit-red mx-auto mb-4"}),e.jsx("p",{className:"text-professional-gray-600",children:"Loading Dreams Week Ahead..."})]})});const F=()=>{const s=y(),{completed:r,total:d}=I(s,t);return d>0?Math.round(r/d*100):0},P=s=>({Travel:"âœˆï¸",Learning:"ðŸ“š",Health:"ðŸ’ª",Career:"ðŸ’¼",Creative:"ðŸŽ¨",Financial:"ðŸ’°",Relationships:"â¤ï¸",Adventure:"ðŸ”ï¸",Spiritual:"ðŸ§˜",Community:"ðŸ¤"})[s]||"â­",Y=()=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],J=(s,r)=>{const i=new Date(s,r+1,0).getDate(),j=Math.floor(i/4),m=i%4,L=[];let W=1;for(let x=1;x<=4;x++){let C=j;x===1&&m>=2?C+=Math.floor(m/2):x===4?C+=m-(m>=2?Math.floor(m/2):0):x===2&&m===1&&(C+=1);const R=new Date(s,r,W),U=new Date(s,r,Math.min(W+C-1,i)),D=ie=>ie.toLocaleDateString("en-US",{month:"short",day:"numeric"});L.push({id:`${s}-${r}-week-${x}`,weekNumber:x,startDate:D(R),endDate:D(U),range:`${D(R)} â€“ ${D(U)}`,start:new Date(R),end:new Date(U)}),W+=C}return L},ee=s=>{const r=ce(s.start),{completed:d,total:i}=I(r,t);return i>0?Math.round(d/i*100):0},se=()=>{const s=new Date,r=s.getMonth(),d=s.getFullYear(),i=s.getDate(),j=J(d,r);for(const m of j)if(i>=m.start.getDate()&&i<=m.end.getDate())return m;return null},te=s=>{const r=s?{...s,milestones:s.milestones||[]}:null;T(r),l(!0),N({title:"",description:"",milestoneId:null,recurrence:"once",weekLog:void 0,durationType:"unlimited",durationWeeks:4})},re=()=>{if(!h.title.trim())return;const s=y(),r={id:Date.now(),title:h.title.trim(),description:h.description.trim(),dreamId:w.id,dreamTitle:w.title,dreamCategory:w.category,completed:!1,createdAt:new Date().toISOString(),milestoneId:h.milestoneId||void 0,recurrence:h.recurrence||"once",active:!0,durationType:h.durationType||"unlimited",durationWeeks:h.durationWeeks||void 0,recurring:h.recurrence==="weekly"};r.recurrence==="weekly"?(r.recurring=!0,r.weekLog={},(r.durationType==="weeks"||r.durationType==="milestone")&&(r.startDate=new Date().toISOString())):(r.recurring=!1,r.week=s),b?(o({...r,id:b.id,startDate:b.startDate||r.startDate,weekLog:b.weekLog||r.weekLog}),A(null)):n(r),l(!1),T(null),N({title:"",description:"",milestoneId:null,recurrence:"once",weekLog:void 0,durationType:"unlimited",durationWeeks:4})},ae=s=>{A(s);const r=a.dreamBook.find(i=>i.id===s.dreamId),d=r?{...r,milestones:r.milestones||[]}:null;T(d),N({title:s.title,description:s.description||"",milestoneId:s.milestoneId||null,recurrence:s.recurrence||"once",weekLog:s.weekLog,durationType:s.durationType||"unlimited",durationWeeks:s.durationWeeks||4}),l(!0)},ne=s=>{window.confirm("Are you sure you want to delete this goal?")&&c(s)},le=s=>{const r=t.find(i=>i.id===s),d=y();if(r?.recurrence==="weekly"&&r?.weekLog!==void 0){const i=r.weekLog[d]||!1;u(s,d,!i)}else g(s)},oe=()=>{l(!1),T(null),A(null),N({title:"",description:"",milestoneId:null,recurrence:"once",weekLog:void 0,durationType:"unlimited",durationWeeks:4})},k=y(),G=X(k,t),E=F(),B=Q(k)&&E===100&&G.length>0,S=(()=>{const s=t.length,r=y(),d=t.filter(x=>x.recurrence==="weekly"&&x.weekLog?x.weekLog[r]===!0:x.completed).length,i=s>0?Math.round(d/s*100):0,j=new Date,m=new Date(j.getFullYear(),0,1),L=Math.floor((j-m)/(24*60*60*1e3)),W=Math.ceil(L/7);return{activeGoals:s,percentCompleted:i,completedGoals:d,totalWeeks:W}})();return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2 sm:py-4 space-y-3 sm:space-y-4",children:[e.jsx("div",{className:"mb-8 transition-all duration-500",children:p?e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(O,{className:"h-8 w-8 text-netsurit-red"}),e.jsx("h1",{className:"text-3xl font-bold text-professional-gray-900",children:"Dreams Week Ahead"}),e.jsx(q,{title:"Week Ahead Guide",content:"Plan your weekly goals and track progress. Link goals to specific dreams from your Dream Book or create general goals. Check off completed goals to see your weekly progress percentage. Use the calendar to plan future weeks."})]}),e.jsx("p",{className:"text-base text-professional-gray-700",children:"Plan and track your weekly goals to make progress on your dreams"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 sm:gap-4 lg:gap-5",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border border-professional-gray-200 hover:shadow-md transition-shadow text-center min-w-[100px]",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(z,{className:"h-6 w-6 text-netsurit-red"})}),e.jsx("p",{className:"text-xs font-medium text-professional-gray-500 uppercase tracking-wide",children:"Active Goals"}),e.jsx("p",{className:"text-xl font-bold text-professional-gray-900",children:S.activeGoals})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border border-professional-gray-200 hover:shadow-md transition-shadow text-center min-w-[100px]",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(xe,{className:"h-6 w-6 text-netsurit-coral"})}),e.jsx("p",{className:"text-xs font-medium text-professional-gray-500 uppercase tracking-wide",children:"% Completed"}),e.jsxs("p",{className:"text-xl font-bold text-professional-gray-900",children:[S.percentCompleted,"%"]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border border-professional-gray-200 hover:shadow-md transition-shadow text-center min-w-[100px]",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(ue,{className:"h-6 w-6 text-netsurit-orange"})}),e.jsx("p",{className:"text-xs font-medium text-professional-gray-500 uppercase tracking-wide",children:"Total Completed"}),e.jsx("p",{className:"text-xl font-bold text-professional-gray-900",children:S.completedGoals})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-4 border border-professional-gray-200 hover:shadow-md transition-shadow text-center min-w-[100px]",children:[e.jsx("div",{className:"flex items-center justify-center mb-2",children:e.jsx(he,{className:"h-6 w-6 text-netsurit-orange"})}),e.jsx("p",{className:"text-xs font-medium text-professional-gray-500 uppercase tracking-wide",children:"Total Weeks"}),e.jsx("p",{className:"text-xl font-bold text-professional-gray-900",children:S.totalWeeks})]})]})]}):e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[e.jsx(O,{className:"h-8 w-8 text-netsurit-red"}),e.jsx("h1",{className:"text-3xl font-bold text-professional-gray-900",children:"Dreams Week Ahead"}),e.jsx(q,{title:"Week Ahead Guide",content:"Plan your weekly goals and track progress. Link goals to specific dreams from your Dream Book or create general goals. Check off completed goals to see your weekly progress percentage. Use the calendar to plan future weeks."})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-5 border border-professional-gray-200 shadow-lg",children:[e.jsx("p",{className:"text-base text-professional-gray-700 font-medium mb-1",children:_}),e.jsx("p",{className:"text-professional-gray-600",children:"Plan your weekly goals by selecting a month and week"})]})]})}),e.jsxs("div",{className:`space-y-4 transition-all duration-500 ${p?"opacity-75 scale-95":""}`,children:[p&&e.jsx("div",{className:"bg-professional-gray-50 rounded-2xl p-4 border border-professional-gray-200 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{className:"w-4 h-4 text-netsurit-red"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-professional-gray-600",children:"Planning for: "}),e.jsxs("span",{className:"font-semibold text-professional-gray-900",children:["Week ",p.weekNumber," (",p.range,") - ",Y()[v]," ",new Date().getFullYear()]})]})]}),e.jsx("button",{onClick:()=>M(null),className:"text-sm text-netsurit-red hover:text-netsurit-coral font-medium transition-colors",children:"Change Week"})]})}),!p&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-bold text-professional-gray-900 text-center",children:"Select Month"}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-12 gap-3",children:Y().map((s,r)=>e.jsx(Ge,{month:s,index:r,isActive:v===r,isCurrent:new Date().getMonth()===r,onClick:()=>{Z(r),M(null)}},r))})]}),v!==null&&!p&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-professional-gray-900 text-center",children:["Select Week - ",Y()[v]," ",new Date().getFullYear()]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:J(new Date().getFullYear(),v).map(s=>e.jsx(Se,{week:s,isActive:p?.id===s.id,progress:ee(s),onClick:()=>M(s)},s.id))})]})]}),p&&e.jsxs("div",{className:"mt-6 grid grid-cols-12 gap-6 min-h-0",children:[e.jsxs("div",{className:"col-span-12 lg:col-span-5",children:[G.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl border border-professional-gray-200 shadow-lg hover:shadow-xl transition-all duration-300 p-4 sm:p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-professional-gray-900",children:"Weekly Progress"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[B&&e.jsx("div",{className:"animate-bounce",children:e.jsx(pe,{className:"w-6 h-6 text-netsurit-orange"})}),e.jsxs("span",{className:"text-2xl font-bold text-professional-gray-900",children:[E,"%"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-full bg-professional-gray-200 rounded-full h-3 shadow-inner border border-professional-gray-300",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-700 ease-out shadow-lg relative overflow-hidden ${B?"bg-gradient-to-r from-netsurit-red to-netsurit-coral animate-pulse":"bg-gradient-to-r from-netsurit-red to-netsurit-coral"}`,style:{width:`${E}%`},children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"})})}),B&&e.jsx("div",{className:"absolute -top-1 right-0 text-xl animate-bounce",children:"ðŸŽ‰"})]}),e.jsxs("div",{className:"flex justify-between text-sm text-professional-gray-600 mt-2",children:[e.jsxs("span",{children:[I(k,t).completed," completed"]}),e.jsxs("span",{children:[I(k,t).total," total goals"]})]})]}),e.jsx("div",{className:"mt-4",children:a?.dreamBook?.length===0?e.jsxs("div",{className:"bg-white rounded-2xl border border-professional-gray-200 shadow-lg hover:shadow-xl transition-all duration-300 p-8 text-center",children:[e.jsx(z,{className:"w-10 h-10 text-professional-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-professional-gray-600 mb-3",children:"No dreams in your Dream Book yet!"}),e.jsx("p",{className:"text-sm text-professional-gray-500",children:"Create some dreams first to start planning weekly goals."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 gap-4",children:a?.dreamBook?.slice(0,4).map(s=>e.jsx(Te,{dream:s,emoji:P(s.category),onAddGoal:()=>te(s)},s.id))}),a?.dreamBook?.length>4&&e.jsx("div",{className:"mt-3 text-right",children:e.jsx(me,{to:"/dream-book",className:"text-netsurit-red hover:text-netsurit-coral text-sm font-medium",children:"View All"})})]})})]}),e.jsxs("div",{className:"col-span-12 lg:col-span-7 min-h-0",children:[e.jsx("h2",{className:"text-xl font-bold text-professional-gray-900 mb-3",children:"This Week's Goals"}),G.length===0?e.jsxs("div",{className:"bg-white rounded-2xl border border-professional-gray-200 shadow-lg hover:shadow-xl transition-all duration-300 p-8 text-center",children:[e.jsx(ge,{className:"w-10 h-10 text-professional-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-professional-gray-600 mb-2",children:"No weekly goals yet!"}),e.jsx("p",{className:"text-sm text-professional-gray-500",children:"Add goals from your dreams to get started."})]}):e.jsx("div",{className:"space-y-3 max-h-[80vh] lg:max-h-[78vh] overflow-y-auto pr-1",children:G.map(s=>{const r=Q(k);return e.jsx(Me,{goal:s,emoji:P(s.dreamCategory),onToggle:r?()=>le(s.id):void 0,onEdit:r?()=>ae(s):void 0,onDelete:r?()=>ne(s.id):void 0},s.id)})})]})]}),$&&e.jsx(Le,{selectedDream:w,goalFormData:h,setGoalFormData:N,onSave:re,onClose:oe,isEditing:!!b,emoji:P(w?.category)})]})},Te=({dream:a,emoji:t,onAddGoal:n})=>e.jsx("div",{className:"flex-shrink-0 w-60 bg-white rounded-2xl border border-professional-gray-200 shadow-lg hover:shadow-xl transition-all duration-300 p-4 hover:scale-105",children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"text-3xl",children:t}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-professional-gray-900 mb-1",children:a.title}),e.jsx("p",{className:"text-sm text-professional-gray-600 mb-1",children:a.category}),e.jsx("div",{className:"w-full bg-professional-gray-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"bg-gradient-to-r from-netsurit-red to-netsurit-coral h-2 rounded-full transition-all duration-300",style:{width:`${a.progress}%`}})}),e.jsxs("p",{className:"text-xs text-professional-gray-500",children:[a.progress,"% complete"]})]}),e.jsxs("button",{onClick:n,className:"w-full inline-flex items-center justify-center px-3 py-2 bg-gradient-to-r from-netsurit-red to-netsurit-coral text-white rounded-lg hover:from-netsurit-coral hover:to-netsurit-orange focus:outline-none focus:ring-2 focus:ring-netsurit-red focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl font-medium space-x-2 text-sm",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Weekly Goal"})]})]})}),Me=({goal:a,emoji:t,onToggle:n,onEdit:o,onDelete:c})=>{const g=y(),u=a.recurrence==="weekly"&&a.weekLog?a.weekLog[g]===!0:a.completed;return e.jsx("div",{className:`rounded-2xl border shadow-lg hover:shadow-xl transition-all duration-300 p-4 hover:scale-[1.02] ${u?"bg-professional-gray-50 border-netsurit-red":"bg-white border-professional-gray-200"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("button",{onClick:n,className:"flex-shrink-0 mt-1","aria-label":u?"Mark as incomplete":"Mark as complete",children:u?e.jsx(ye,{className:"w-6 h-6 text-netsurit-red","aria-hidden":"true"}):e.jsx(je,{className:"w-6 h-6 text-professional-gray-400 hover:text-professional-gray-600","aria-hidden":"true"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-medium ${u?"line-through text-professional-gray-600":"text-professional-gray-900"}`,children:a.title}),a.description&&e.jsx("p",{className:`text-sm mt-1 ${u?"line-through text-professional-gray-500":"text-professional-gray-600"}`,children:a.description}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2 flex-wrap gap-1",children:[e.jsx("span",{className:"text-base",children:t}),e.jsx("span",{className:"text-xs bg-professional-gray-100 text-professional-gray-700 px-2 py-1 rounded-full",children:a.dreamTitle}),a.recurrence==="weekly"&&e.jsxs("span",{className:"text-xs bg-netsurit-warm-orange/20 text-netsurit-orange px-2 py-1 rounded-full font-medium flex items-center space-x-1",children:[e.jsx(V,{className:"w-3 h-3"}),e.jsx("span",{children:"Recurring Weekly"})]}),a.milestoneId&&e.jsx("span",{className:"text-xs bg-netsurit-light-coral text-netsurit-red px-2 py-1 rounded-full font-medium",children:"â­ Linked to Milestone"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-3",children:[e.jsx("button",{onClick:o,className:"p-1 text-professional-gray-400 hover:text-professional-gray-600 hover:bg-professional-gray-100 rounded",children:e.jsx(we,{className:"w-4 h-4"})}),e.jsx("button",{onClick:c,className:"p-1 text-netsurit-red hover:text-netsurit-coral hover:bg-netsurit-light-coral rounded",children:e.jsx(be,{className:"w-4 h-4"})})]})]})})]})})},Ge=({month:a,index:t,isActive:n,isCurrent:o,onClick:c})=>e.jsxs("button",{onClick:c,className:`
        relative p-2 rounded-lg transition-all duration-300 hover:scale-105 hover:shadow-md
        ${n?"bg-gradient-to-br from-netsurit-red to-netsurit-coral text-white shadow-lg transform scale-105":"bg-white text-professional-gray-700 hover:bg-professional-gray-50 border-2 border-professional-gray-200"}
        ${o&&!n?"border-netsurit-red":""}
      `,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-sm",children:a}),o&&e.jsx("div",{className:`text-xs mt-1 ${n?"text-netsurit-light-coral":"text-netsurit-red"}`,children:"Current"})]}),n&&e.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2",children:e.jsx(Ne,{className:"w-4 h-4 text-netsurit-red"})})]}),Se=({week:a,isActive:t,progress:n,onClick:o})=>e.jsxs("button",{onClick:o,className:`
        relative p-3 rounded-lg transition-all duration-300 hover:scale-105 hover:shadow-md text-left w-full
        ${t?"bg-gradient-to-br from-netsurit-red to-netsurit-coral text-white shadow-lg transform scale-105":"bg-white text-professional-gray-700 hover:bg-professional-gray-50 border-2 border-professional-gray-200"}
      `,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:`text-xs font-medium uppercase tracking-wide ${t?"text-netsurit-light-coral":"text-professional-gray-500"}`,children:["Week ",a.weekNumber]}),e.jsx("div",{className:"font-semibold text-sm mt-1",children:a.range})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:t?"text-netsurit-light-coral":"text-professional-gray-500",children:"Progress"}),e.jsxs("span",{className:`font-medium ${t?"text-white":"text-professional-gray-700"}`,children:[n,"%"]})]}),e.jsx("div",{className:`w-full rounded-full h-1.5 ${t?"bg-netsurit-coral/50":"bg-professional-gray-200"}`,children:e.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${t?"bg-white":n===100?"bg-netsurit-red":"bg-gradient-to-r from-netsurit-red to-netsurit-coral"}`,style:{width:`${n}%`}})})]})]}),t&&e.jsx("div",{className:"absolute -right-2 top-1/2 transform -translate-y-1/2",children:e.jsx(ve,{className:"w-4 h-4 text-netsurit-red"})})]}),Le=({selectedDream:a,goalFormData:t,setGoalFormData:n,onSave:o,onClose:c,isEditing:g,emoji:u})=>{const $=l=>{l.preventDefault(),o()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[e.jsx("div",{className:"p-4 sm:p-5 border-b border-professional-gray-200 bg-professional-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl",children:u}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-professional-gray-900",children:g?"Edit Weekly Goal":"Add Weekly Goal"}),e.jsx("p",{className:"text-sm text-professional-gray-600",children:a?.title})]})]}),e.jsx("button",{onClick:c,className:"p-2 text-professional-gray-400 hover:text-professional-gray-600 hover:bg-professional-gray-100 rounded-lg",children:e.jsx(ke,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"p-4 sm:p-5",children:e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-professional-gray-700 mb-2",children:"Goal Title *"}),e.jsx("input",{type:"text",value:t.title,onChange:l=>n({...t,title:l.target.value}),placeholder:"What do you want to accomplish this week?",className:"input-field",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-professional-gray-700 mb-2",children:"Description (optional)"}),e.jsx("textarea",{value:t.description,onChange:l=>n({...t,description:l.target.value}),placeholder:"Add more details about your weekly goal...",className:"input-field h-20 resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-professional-gray-700 mb-2",children:"Link to Milestone (optional)"}),e.jsxs("select",{value:t.milestoneId?String(t.milestoneId):"",onChange:l=>n({...t,milestoneId:l.target.value?Number(l.target.value):null}),className:"input-field","aria-label":"Select milestone",children:[e.jsx("option",{value:"",children:"No milestone"}),a?.milestones&&a.milestones.length>0?a.milestones.map(l=>e.jsxs("option",{value:String(l.id),children:[l.text,l.coachManaged?" â­ (Coach Milestone)":""]},l.id)):e.jsx("option",{value:"",disabled:!0,children:"No milestones available - add milestones in dream first"})]}),e.jsx("p",{className:"text-xs text-professional-gray-500 mt-1",children:a?.milestones&&a.milestones.length>0?"Link this goal to track progress toward a specific milestone":"ðŸ’¡ Tip: Add milestones to your dream first to link goals to them"})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-netsurit-light-coral/20 rounded-lg border border-netsurit-coral/30",children:[e.jsx("input",{type:"checkbox",id:"recurring",checked:t.recurrence==="weekly",onChange:l=>n({...t,recurrence:l.target.checked?"weekly":"once",weekLog:l.target.checked?{}:void 0}),className:"mt-1 h-4 w-4 text-netsurit-red border-gray-300 rounded focus:ring-netsurit-red","aria-label":"Make goal recurring"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{htmlFor:"recurring",className:"text-sm font-medium text-professional-gray-900 cursor-pointer flex items-center space-x-2",children:[e.jsx("span",{className:"flex items-center justify-center w-5 h-5 rounded bg-netsurit-warm-orange/20",children:e.jsx(V,{className:"w-3.5 h-3.5 text-netsurit-orange"})}),e.jsx("span",{children:"Make this a recurring weekly goal"})]}),e.jsx("p",{className:"text-xs text-professional-gray-600 mt-1",children:"Track completion each week instead of just this week"})]})]}),t.recurrence==="weekly"&&e.jsxs("div",{className:"space-y-3 p-3 bg-professional-gray-50 rounded-lg border border-professional-gray-200",children:[e.jsx("label",{className:"block text-sm font-medium text-professional-gray-700",children:"Duration"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"durationType",value:"unlimited",checked:t.durationType==="unlimited",onChange:l=>n({...t,durationType:l.target.value}),className:"mt-0.5 h-4 w-4 text-netsurit-red border-gray-300 focus:ring-netsurit-red"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm text-professional-gray-900 font-medium",children:"Ongoing"}),e.jsx("p",{className:"text-xs text-professional-gray-600",children:"Track this goal indefinitely"})]})]}),e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"durationType",value:"weeks",checked:t.durationType==="weeks",onChange:l=>n({...t,durationType:l.target.value}),className:"mt-0.5 h-4 w-4 text-netsurit-red border-gray-300 focus:ring-netsurit-red"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-professional-gray-900 font-medium",children:"For"}),e.jsx("input",{type:"number",min:"1",max:"52",value:t.durationWeeks,onChange:l=>n({...t,durationWeeks:parseInt(l.target.value)||1,durationType:"weeks"}),onClick:l=>{n({...t,durationType:"weeks"})},className:"w-16 px-2 py-1 text-sm border border-professional-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-netsurit-red"}),e.jsx("span",{className:"text-sm text-professional-gray-900 font-medium",children:"weeks"})]}),e.jsx("p",{className:"text-xs text-professional-gray-600 mt-1",children:"Goal will end after this many weeks"})]})]}),t.milestoneId&&e.jsxs("label",{className:"flex items-start space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"durationType",value:"milestone",checked:t.durationType==="milestone",onChange:l=>n({...t,durationType:l.target.value}),className:"mt-0.5 h-4 w-4 text-netsurit-red border-gray-300 focus:ring-netsurit-red"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-sm text-professional-gray-900 font-medium",children:"Until milestone complete"}),e.jsx("p",{className:"text-xs text-professional-gray-600",children:"Track until the linked milestone is marked complete"})]})]})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-3",children:[e.jsxs("button",{type:"submit",disabled:!t.title.trim(),className:"flex-1 inline-flex items-center justify-center px-5 py-2.5 bg-gradient-to-r from-netsurit-red to-netsurit-coral text-white rounded-lg hover:from-netsurit-coral hover:to-netsurit-orange focus:outline-none focus:ring-2 focus:ring-netsurit-red focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl font-medium space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(We,{className:"w-4 h-4"}),e.jsx("span",{children:g?"Update Goal":"Add Goal"})]}),e.jsx("button",{type:"button",onClick:c,className:"inline-flex items-center justify-center px-5 py-2.5 bg-professional-gray-200 text-professional-gray-700 border border-professional-gray-300 rounded-lg hover:bg-professional-gray-300 focus:outline-none focus:ring-2 focus:ring-professional-gray-500 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl font-medium",children:"Cancel"})]})]})})]})})};export{Ee as default};
