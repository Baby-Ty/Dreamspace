import{j as e}from"./index-a4776ee8.js";import{r as p}from"./vendor-e182443c.js";import{u as M}from"./CareerBookLayout-cfe49a7d.js";import{P as w,u as C,q as D,e as k,v as $,a as J,x as R,b as G}from"./ui-9fedfdd7.js";import"./auth-c67ad916.js";import"./CareerTrackerModal-1d4391fa.js";import"./HelpTooltip-4fed3476.js";function V(){const{careerProfile:l,updateCareerProfile:u,addCareerHighlight:T,isLoading:S,error:b}=M(),[x,h]=p.useState(null),[c,n]=p.useState({}),[i,m]=p.useState({title:"",description:"",date:""}),[E,g]=p.useState(!1);if(S)return e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-netsurit-red"})});if(b)return e.jsx("div",{className:"text-center py-12 text-red-600",children:e.jsxs("p",{children:["Error loading career profile: ",b]})});const y=s=>{if(h(s),s.startsWith("preferences-")){const r=s.split("-")[1],t=l.preferences||{};r==="want"?n({wantToDo:t.wantToDo||[]}):r==="dont"?n({dontWantToDo:t.dontWantToDo||[]}):r==="motivators"&&n({motivators:t.motivators||[]})}else n(l[s]||{})},j=s=>{if(s.startsWith("preferences-")){const r=s.split("-")[1];let o={...l.preferences||{}};r==="want"?o.wantToDo=c.wantToDo:r==="dont"?o.dontWantToDo=c.dontWantToDo:r==="motivators"&&(o.motivators=c.motivators),u({preferences:o})}else u({[s]:c});h(null),n({})},N=()=>{h(null),n({})},A=(s,r)=>{n(t=>({...t,[s]:r}))},H=(s,r,t)=>{n(o=>{const a=[...o[s]||[]];return a[r]=t,{...o,[s]:a}})},P=s=>{n(r=>({...r,[s]:[...r[s]||[],""]}))},W=(s,r)=>{n(t=>{const o=[...t[s]||[]];return o.splice(r,1),{...t,[s]:o}})},I=()=>{if(i.title&&i.description){const s={id:Date.now(),...i,date:i.date||new Date().toISOString().split("T")[0]};T(s),m({title:"",description:"",date:""}),g(!1)}},v=(s,r,t,o)=>e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-5 border border-professional-gray-200 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"text-base font-semibold text-professional-gray-900 flex items-center",children:[t,s]}),x!==r?e.jsxs("button",{onClick:()=>y(r),className:"text-netsurit-red hover:text-netsurit-coral text-sm flex items-center",children:[e.jsx(C,{className:"w-3 h-3 mr-1"}),"Edit"]}):e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>j(r),className:"text-green-600 hover:text-green-700 text-sm flex items-center",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"Save"]}),e.jsx("button",{onClick:N,className:"text-professional-gray-600 hover:text-professional-gray-700 text-sm",children:"Cancel"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:o.map(a=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-professional-gray-700 mb-1",children:a.label}),x===r?e.jsx("input",{type:a.type||"text",value:c[a.key]||"",onChange:d=>A(a.key,d.target.value),className:"w-full p-2 rounded-md border border-professional-gray-300 text-sm focus:ring-2 focus:ring-netsurit-red focus:border-transparent",placeholder:a.placeholder}):e.jsxs("p",{className:"text-professional-gray-900 bg-professional-gray-50 p-2 rounded-md border border-professional-gray-200 text-sm flex items-center",children:[a.icon,l[r]?.[a.key]||"Not specified"]})]},a.key))})]}),f=(s,r,t,o="bg-white")=>e.jsxs("div",{className:`${o} rounded-2xl p-4 sm:p-5 border border-professional-gray-200 shadow-lg`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"text-base font-semibold text-professional-gray-900 flex items-center",children:[e.jsx(k,{className:"w-4 h-4 mr-2 text-professional-gray-600"}),s]}),x!==`preferences-${r}`?e.jsxs("button",{onClick:()=>y(`preferences-${r}`),className:"text-netsurit-red hover:text-netsurit-coral text-xs flex items-center",children:[e.jsx(C,{className:"w-3 h-3 mr-1"}),"Edit"]}):e.jsxs("div",{className:"flex space-x-1",children:[e.jsxs("button",{onClick:()=>j(`preferences-${r}`),className:"text-green-600 hover:text-green-700 text-xs flex items-center",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),"Save"]}),e.jsx("button",{onClick:N,className:"text-professional-gray-600 hover:text-professional-gray-700 text-xs",children:"Cancel"})]})]}),e.jsx("div",{className:"space-y-2",children:x===`preferences-${r}`?e.jsxs("div",{className:"space-y-2",children:[(c[t]||[]).map((a,d)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:a,onChange:L=>H(t,d,L.target.value),className:"flex-1 p-2 rounded-md border border-professional-gray-300 text-sm focus:ring-2 focus:ring-netsurit-red focus:border-transparent",placeholder:`Enter ${s.toLowerCase()}`}),e.jsx("button",{onClick:()=>W(t,d),className:"text-red-500 hover:text-red-700",children:e.jsx($,{className:"w-4 h-4"})})]},d)),e.jsxs("button",{onClick:()=>P(t),className:"flex items-center text-netsurit-red hover:text-netsurit-coral text-sm",children:[e.jsx(w,{className:"w-4 h-4 mr-1"}),"Add Item"]})]}):e.jsx("div",{className:"space-y-2",children:(l.preferences?.[t]||[]).length>0?l.preferences[t].map((a,d)=>e.jsx("div",{className:"bg-professional-gray-50 p-2 rounded-md border border-professional-gray-200",children:e.jsx("p",{className:"text-sm text-professional-gray-800",children:a})},d)):e.jsxs("p",{className:"text-sm text-professional-gray-500 italic",children:["No ",s.toLowerCase()," specified"]})})})]});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-professional-gray-900 mb-1",children:"My Career Profile"}),e.jsx("p",{className:"text-sm text-professional-gray-600",children:"Track your current role, experience, and career highlights"})]}),v("Current Role","currentRole",e.jsx(G,{className:"w-4 h-4 mr-2 text-professional-gray-600"}),[{key:"jobTitle",label:"Job Title",placeholder:"Enter job title"},{key:"department",label:"Department",placeholder:"Enter department"},{key:"startDate",label:"Start Date",type:"date",icon:e.jsx(J,{className:"w-3 h-3 mr-2 text-professional-gray-500"})},{key:"location",label:"Location",placeholder:"Enter location",icon:e.jsx(R,{className:"w-3 h-3 mr-2 text-professional-gray-500"})}]),v("My Aspirations","aspirations",e.jsx(k,{className:"w-4 h-4 mr-2 text-netsurit-red"}),[{key:"desiredJobTitle",label:"Desired Job Title",placeholder:"Enter desired job title"},{key:"preferredDepartment",label:"Preferred Department",placeholder:"Enter preferred department"},{key:"preferredGeography",label:"Preferred Geography",placeholder:"Enter preferred locations"}]),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[f("What I Want to Do","want","wantToDo"),f("What I Don't Want to Do","dont","dontWantToDo","bg-professional-gray-50"),f("What Motivates Me","motivators","motivators","bg-professional-gray-50")]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-5 border border-professional-gray-200 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-base font-semibold text-professional-gray-900",children:"Career Highlights"}),e.jsxs("button",{onClick:()=>g(!0),className:"text-netsurit-red hover:text-netsurit-coral text-sm flex items-center",children:[e.jsx(w,{className:"w-3 h-3 mr-1"}),"Add Highlight"]})]}),E&&e.jsx("div",{className:"mb-4 p-4 bg-professional-gray-50 rounded-lg border border-professional-gray-200",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:i.title,onChange:s=>m(r=>({...r,title:s.target.value})),className:"w-full p-2 rounded-md border border-professional-gray-300 text-sm focus:ring-2 focus:ring-netsurit-red focus:border-transparent",placeholder:"Highlight title"}),e.jsx("textarea",{value:i.description,onChange:s=>m(r=>({...r,description:s.target.value})),className:"w-full p-2 rounded-md border border-professional-gray-300 text-sm focus:ring-2 focus:ring-netsurit-red focus:border-transparent",placeholder:"Description",rows:2}),e.jsx("input",{type:"date",value:i.date,onChange:s=>m(r=>({...r,date:s.target.value})),className:"w-full p-2 rounded-md border border-professional-gray-300 text-sm focus:ring-2 focus:ring-netsurit-red focus:border-transparent"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:I,className:"px-4 py-2 bg-netsurit-red text-white rounded-md text-sm hover:bg-netsurit-coral transition-colors",children:"Add Highlight"}),e.jsx("button",{onClick:()=>{g(!1),m({title:"",description:"",date:""})},className:"px-4 py-2 bg-professional-gray-200 text-professional-gray-700 rounded-md text-sm hover:bg-professional-gray-300 transition-colors",children:"Cancel"})]})]})}),e.jsx("div",{className:"space-y-2",children:(l.careerHighlights||[]).length>0?l.careerHighlights.map((s,r)=>e.jsxs("div",{className:"p-3 bg-professional-gray-50 rounded-md border border-professional-gray-200",children:[e.jsx("h4",{className:"font-medium text-professional-gray-900 text-sm",children:s.title}),e.jsx("p",{className:"text-sm text-professional-gray-600 mt-1",children:s.description}),e.jsx("p",{className:"text-xs text-professional-gray-500 mt-1",children:s.date?new Date(s.date).toLocaleDateString("en-US",{year:"numeric",month:"short"}):""})]},s.id||r)):e.jsx("p",{className:"text-sm text-professional-gray-500 italic text-center py-4",children:'No career highlights added yet. Click "Add Highlight" to get started!'})})]})]})}export{V as default};
