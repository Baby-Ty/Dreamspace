import{j as e}from"./index-a4776ee8.js";import{r as x}from"./vendor-e182443c.js";import{P as a}from"./index-03f6f705.js";import{X as h}from"./ui-9fedfdd7.js";import"./auth-c67ad916.js";const u=({user:r,coaches:d,onClose:c,onSave:p})=>{const[o,l]=x.useState({displayName:r.name||"",title:r.title||"",manager:r.manager||"",office:r.office||"",roles:{admin:r.roles?.admin||!1,coach:r.roles?.coach||r.isCoach||!1,employee:r.roles?.employee!==!1,people:r.roles?.people||!1},assignedCoachId:r.assignedCoachId||"",teamName:r.teamName||""}),[i,m]=x.useState(!1),t=s=>{l(n=>({...n,roles:{...n.roles,[s]:!n.roles[s]}}))},g=async s=>{s.preventDefault(),m(!0);try{await p({...o,name:o.displayName,isCoach:o.roles.coach})}finally{m(!1)}},f=["South Africa","United States","Mexico","Brazil","Poland","Remote"];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-[1000]",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-professional-gray-200 shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-white border-b border-professional-gray-200 px-6 py-4 flex items-center justify-between flex-shrink-0",children:[e.jsx("h2",{className:"text-xl font-bold text-professional-gray-900",children:"Edit User"}),e.jsx("button",{onClick:c,className:"p-2 text-professional-gray-400 hover:text-professional-gray-600 rounded-lg transition-colors duration-200","aria-label":"Close",children:e.jsx(h,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 py-4 border-b border-professional-gray-200 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:r.avatar,alt:r.name,className:"w-14 h-14 rounded-full object-cover",onError:s=>{s.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(r.name)}&background=EC4B5C&color=fff&size=100`}}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-professional-gray-900",children:r.name}),e.jsx("p",{className:"text-sm text-professional-gray-600",children:r.email}),e.jsxs("p",{className:"text-xs text-professional-gray-500",children:["Username: ",r.email]})]})]})}),e.jsx("form",{id:"editUserForm",onSubmit:g,className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"px-6 py-4 space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-professional-gray-700 mb-1.5",children:"Display Name"}),e.jsx("input",{type:"text",id:"displayName",value:o.displayName,onChange:s=>l({...o,displayName:s.target.value}),className:"w-full px-3 py-2 border border-professional-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-netsurit-red focus:border-netsurit-red text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-professional-gray-700 mb-1.5",children:"Title"}),e.jsx("input",{type:"text",id:"title",value:o.title,onChange:s=>l({...o,title:s.target.value}),className:"w-full px-3 py-2 border border-professional-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-netsurit-red focus:border-netsurit-red text-sm",placeholder:"e.g., Software Engineer"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"manager",className:"block text-sm font-medium text-professional-gray-700 mb-1.5",children:"Manager"}),e.jsxs("select",{id:"manager",value:o.manager,onChange:s=>l({...o,manager:s.target.value}),className:"w-full px-3 py-2 border border-professional-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-netsurit-red focus:border-netsurit-red bg-white text-sm",children:[e.jsx("option",{value:"",children:"Select manager..."}),d.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"region",className:"block text-sm font-medium text-professional-gray-700 mb-1.5",children:"Region"}),e.jsxs("select",{id:"region",value:o.office,onChange:s=>l({...o,office:s.target.value}),className:"w-full px-3 py-2 border border-professional-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-netsurit-red focus:border-netsurit-red bg-white text-sm",children:[e.jsx("option",{value:"",children:"Select region..."}),f.map(s=>e.jsx("option",{value:s,children:s},s))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-professional-gray-700 mb-2",children:"Roles"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.roles.admin,onChange:()=>t("admin"),className:"w-4 h-4 text-netsurit-red border-professional-gray-300 rounded focus:ring-netsurit-red"}),e.jsx("span",{className:"text-sm text-professional-gray-700",children:"Admin"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.roles.coach,onChange:()=>t("coach"),className:"w-4 h-4 text-netsurit-red border-professional-gray-300 rounded focus:ring-netsurit-red"}),e.jsx("span",{className:"text-sm text-professional-gray-700",children:"Coach"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.roles.employee,onChange:()=>t("employee"),className:"w-4 h-4 text-netsurit-red border-professional-gray-300 rounded focus:ring-netsurit-red"}),e.jsx("span",{className:"text-sm text-professional-gray-700",children:"Employee"})]}),e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.roles.people,onChange:()=>t("people"),className:"w-4 h-4 text-netsurit-red border-professional-gray-300 rounded focus:ring-netsurit-red"}),e.jsx("span",{className:"text-sm text-professional-gray-700",children:"People"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"assignedCoach",className:"block text-sm font-medium text-professional-gray-700 mb-1.5",children:"Coach"}),e.jsxs("select",{id:"assignedCoach",value:o.assignedCoachId,onChange:s=>l({...o,assignedCoachId:s.target.value}),className:"w-full px-3 py-2 border border-professional-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-netsurit-red focus:border-netsurit-red bg-white text-sm",children:[e.jsx("option",{value:"",children:"No coach assigned"}),d.map(s=>e.jsxs("option",{value:s.id,children:[s.name," - ",s.teamName]},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"teamName",className:"block text-sm font-medium text-professional-gray-700 mb-1.5",children:"Team"}),e.jsx("input",{type:"text",id:"teamName",value:o.teamName||"Team assigned based on coach",disabled:!0,className:"w-full px-3 py-2 border border-professional-gray-300 rounded-lg bg-professional-gray-50 text-professional-gray-500 text-sm",placeholder:"Team assigned based on coach"})]})]}),e.jsxs("div",{className:"bg-professional-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm font-medium text-professional-gray-700 mb-3",children:"Non-editable (SSO-synced)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-professional-gray-500 mb-1",children:"Email:"}),e.jsx("p",{className:"text-professional-gray-900 font-medium break-all",children:r.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-professional-gray-500 mb-1",children:"Username:"}),e.jsx("p",{className:"text-professional-gray-900 font-medium break-all",children:r.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-professional-gray-500 mb-1",children:"Account Status:"}),e.jsx("p",{className:"text-green-600 font-medium",children:"Active"})]})]})]})]})}),e.jsx("div",{className:"border-t border-professional-gray-200 px-6 py-4 bg-white flex-shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:c,disabled:i,className:"flex-1 px-4 py-2.5 bg-professional-gray-800 text-white rounded-lg hover:bg-professional-gray-900 transition-all duration-200 font-medium text-sm disabled:opacity-50",children:"Cancel"}),e.jsx("button",{type:"submit",form:"editUserForm",disabled:i,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-netsurit-red to-netsurit-coral text-white rounded-lg hover:from-netsurit-coral hover:to-netsurit-orange transition-all duration-200 font-medium text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Saving...":"Save Changes"})]})})]})})};u.propTypes={user:a.shape({id:a.oneOfType([a.string,a.number]).isRequired,name:a.string.isRequired,email:a.string.isRequired,avatar:a.string,title:a.string,manager:a.string,office:a.string,roles:a.shape({admin:a.bool,coach:a.bool,employee:a.bool,people:a.bool}),isCoach:a.bool,assignedCoachId:a.oneOfType([a.string,a.number]),teamName:a.string}).isRequired,coaches:a.arrayOf(a.object).isRequired,onClose:a.func.isRequired,onSave:a.func.isRequired};export{u as default};
