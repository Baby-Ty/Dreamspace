import{j as e}from"./index-a4776ee8.js";import{r as d}from"./vendor-e182443c.js";import{c as C,X as S,a5 as f,n as T,a3 as k,a9 as z,ag as M}from"./ui-9fedfdd7.js";import"./auth-c67ad916.js";const L=({coach:r,availableReplacements:m,coaches:b,onClose:c,onConfirm:p})=>{const[l,j]=d.useState(""),[x,N]=d.useState(""),[i,v]=d.useState(""),[a,u]=d.useState("unassigned"),[o,y]=d.useState(""),t=m.find(s=>s.id===l),h=d.useMemo(()=>{const s=m.filter(n=>n.id!==r.id);return i.trim()?s.filter(n=>n.name.toLowerCase().includes(i.toLowerCase())||n.office.toLowerCase().includes(i.toLowerCase())):s},[m,r.id,i]),g=b.filter(s=>s.id!==r.id),w=()=>{l&&p(r.id,l,x||null,a,o||null)};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-professional-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-netsurit-orange/10 rounded-lg",children:e.jsx(C,{className:"w-5 h-5 text-netsurit-orange"})}),e.jsx("h2",{className:"text-lg font-semibold text-professional-gray-900",children:"Replace Team Coach"})]}),e.jsx("button",{onClick:c,className:"p-1 text-professional-gray-400 hover:text-professional-gray-600 hover:bg-professional-gray-100 rounded-full transition-colors",children:e.jsx(S,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-professional-gray-900 mb-3",children:"Current Coach"}),e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-professional-gray-50 rounded-lg border border-professional-gray-200",children:[e.jsx("img",{src:r.avatar,alt:r.name,className:"w-12 h-12 rounded-full object-cover",onError:s=>{s.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(r.name)}&background=6366f1&color=fff&size=48`}}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{className:"w-4 h-4 text-netsurit-red"}),e.jsx("h4",{className:"font-semibold text-professional-gray-900",children:r.name})]}),e.jsx("p",{className:"text-sm text-professional-gray-600",children:r.teamName}),e.jsxs("p",{className:"text-sm text-professional-gray-500",children:[r.teamMetrics?.teamSize||0," team members"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-professional-gray-900 mb-3",children:"Select New Coach"}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-professional-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:i,onChange:s=>v(s.target.value),placeholder:"Search by name or office...",className:"w-full pl-10 pr-4 py-3 border border-professional-gray-300 rounded-lg focus:ring-2 focus:ring-netsurit-red focus:border-netsurit-red"})]}),e.jsx("div",{className:"max-h-48 overflow-y-auto border border-professional-gray-200 rounded-lg",children:h.length===0?e.jsx("div",{className:"p-4 text-center text-professional-gray-500",children:i.trim()?"No users found matching your search":"No available replacements"}):h.map(s=>e.jsx("div",{onClick:()=>j(s.id),className:`p-3 border-b border-professional-gray-100 cursor-pointer hover:bg-professional-gray-50 transition-colors ${l===s.id?"bg-netsurit-red/10 border-l-4 border-l-netsurit-red":""}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:s.avatar,alt:s.name,className:"w-8 h-8 rounded-full object-cover",onError:n=>{n.target.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(s.name)}&background=6366f1&color=fff&size=32`}}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[s.role==="coach"?e.jsx(f,{className:"w-4 h-4 text-netsurit-red"}):e.jsx(k,{className:"w-4 h-4 text-professional-gray-400"}),e.jsx("h4",{className:"font-medium text-professional-gray-900",children:s.name})]}),e.jsx("p",{className:"text-sm text-professional-gray-600",children:s.office}),s.role==="coach"&&s.teamMetrics?.teamSize>0&&e.jsxs("p",{className:"text-xs text-netsurit-red",children:["Current team: ",s.teamMetrics.teamSize," members"]}),s.role!=="coach"&&e.jsx("p",{className:"text-xs text-netsurit-orange",children:"Will be promoted to coach"})]}),l===s.id&&e.jsx("div",{className:"w-4 h-4 bg-netsurit-red rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]})},s.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-professional-gray-900 mb-3",children:["What should happen to ",r.name,"?"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{onClick:()=>u("unassigned"),className:`p-3 border rounded-lg cursor-pointer transition-colors ${a==="unassigned"?"border-netsurit-red bg-netsurit-red/5":"border-professional-gray-300 hover:bg-professional-gray-50"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${a==="unassigned"?"border-netsurit-red bg-netsurit-red":"border-professional-gray-300"}`,children:a==="unassigned"&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mx-auto mt-0.5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-professional-gray-900",children:"Move to Unassigned"}),e.jsx("p",{className:"text-sm text-professional-gray-600",children:"Becomes a regular user in the unassigned pool"})]})]})}),e.jsx("div",{onClick:()=>u("assign-to-team"),className:`p-3 border rounded-lg cursor-pointer transition-colors ${a==="assign-to-team"?"border-netsurit-red bg-netsurit-red/5":"border-professional-gray-300 hover:bg-professional-gray-50"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${a==="assign-to-team"?"border-netsurit-red bg-netsurit-red":"border-professional-gray-300"}`,children:a==="assign-to-team"&&e.jsx("div",{className:"w-2 h-2 bg-white rounded-full mx-auto mt-0.5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-professional-gray-900",children:"Assign to Another Team"}),e.jsx("p",{className:"text-sm text-professional-gray-600",children:"Becomes a team member under another coach"})]})]})}),a==="assign-to-team"&&e.jsx("div",{className:"ml-7 mt-3",children:e.jsxs("select",{value:o,onChange:s=>y(s.target.value),className:"w-full p-2 border border-professional-gray-300 rounded focus:ring-2 focus:ring-netsurit-red focus:border-netsurit-red",children:[e.jsx("option",{value:"",children:"Select a team to join..."}),g.map(s=>e.jsxs("option",{value:s.id,children:["ðŸ‘‘ ",s.name,"'s Team (",s.teamMetrics?.teamSize||0," members)"]},s.id))]})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-professional-gray-900 mb-2",children:"New Team Name (Optional)"}),e.jsx("input",{type:"text",value:x,onChange:s=>N(s.target.value),placeholder:t?`${t.name}'s Team`:"Leave blank for default",className:"w-full p-3 border border-professional-gray-300 rounded-lg focus:ring-2 focus:ring-netsurit-red focus:border-netsurit-red"}),e.jsxs("p",{className:"text-xs text-professional-gray-500 mt-1",children:['If left blank, will default to "',t?.name||"New Coach",`'s Team"`]})]}),t&&e.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(z,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"What will happen:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:t.name})," will become the new coach"]}),e.jsxs("li",{children:["â€¢ All ",r.teamMetrics?.teamSize||0," team members will be reassigned"]}),t.role==="coach"&&t.teamMetrics?.teamSize>0&&e.jsxs("li",{children:["â€¢ Teams will be merged (total: ",(r.teamMetrics?.teamSize||0)+(t.teamMetrics?.teamSize||0)," members)"]}),t.role!=="coach"&&e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:t.name})," will be promoted to coach role"]}),a==="unassigned"&&e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:r.name})," will move to the unassigned users pool"]}),a==="assign-to-team"&&o&&e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:r.name})," will join ",e.jsxs("strong",{children:[g.find(s=>s.id===o)?.name,"'s"]})," team as a member"]})]})]})]})}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(M,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-amber-800 mb-1",children:"Important"}),e.jsx("p",{className:"text-sm text-amber-700",children:"This action cannot be undone. The team structure will be permanently changed and all members will be notified of the new coaching assignment."})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:c,className:"flex-1 px-4 py-2 text-professional-gray-700 bg-professional-gray-100 hover:bg-professional-gray-200 rounded-lg font-medium transition-colors",children:"Cancel"}),e.jsx("button",{onClick:w,disabled:!l||a==="assign-to-team"&&!o,className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${l&&(a!=="assign-to-team"||o)?"bg-netsurit-orange hover:bg-netsurit-warm-orange text-white":"bg-professional-gray-300 text-professional-gray-500 cursor-not-allowed"}`,children:"Replace Coach"})]})]})]})})};export{L as default};
