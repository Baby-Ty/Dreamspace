import{r as c}from"./vendor-e182443c.js";function E(r,x={}){const{loop:t=!0,direction:f="vertical",columnsCount:l=1}=x,[s,u]=c.useState(0),n=c.useRef(new Map),k=c.useCallback((e,o)=>{o?n.current.set(e,o):n.current.delete(e)},[]),a=c.useCallback(e=>{const o=n.current.get(e);o&&(o.focus(),u(e))},[]),b=c.useCallback(()=>{let e=s+1;e>=r&&(e=t?0:r-1),a(e)},[s,r,t,a]),i=c.useCallback(()=>{let e=s-1;e<0&&(e=t?r-1:0),a(e)},[s,r,t,a]),p=c.useCallback(()=>{let e=s+l;e>=r&&(t?e=e%r:e=s),a(e)},[s,l,r,t,a]),v=c.useCallback(()=>{let e=s-l;e<0&&(t?e=r+e:e=s),a(e)},[s,l,r,t,a]),d=c.useCallback(()=>{a(0)},[a]),I=c.useCallback(()=>{a(r-1)},[r,a]),g=c.useCallback(e=>{const o=f==="vertical"||f==="both",w=f==="horizontal"||f==="both",D=l>1;switch(e.key){case"ArrowDown":o&&(e.preventDefault(),D?p():b());break;case"ArrowUp":o&&(e.preventDefault(),D?v():i());break;case"ArrowRight":w&&(e.preventDefault(),b());break;case"ArrowLeft":w&&(e.preventDefault(),i());break;case"Home":e.preventDefault(),d();break;case"End":e.preventDefault(),I();break}},[f,l,p,v,b,i,d,I]),h=c.useCallback(e=>({tabIndex:e===s?0:-1,ref:o=>k(e,o),onFocus:()=>u(e),"data-roving-index":e}),[s,k]);return c.useEffect(()=>{r>0&&s===0&&n.current.get(0)},[r,s]),{focusedIndex:s,setFocusedIndex:u,getItemProps:h,onKeyDown:g,focusItem:a}}export{E as u};
